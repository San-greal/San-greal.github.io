---
layout:     post
title:      计算机网络体系结构与参考模型
subtitle:   
date:       2019-9-15
author:     度朝腾
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 计算机网络
---

### 一、计算机网络分层结构（计算机网络各层及其协议的集合称为网络的体系结构）

1. 体系结构是抽象的，但体系结构的实现是具体的。
2. 体系结构通常都具有分层的特性。将复杂的大系统分为若干较容易实现的层次，分层的基本原则如下：
   - 每层实现一种相对独立的功能，降低大系统复杂度；
   - 各层之间界面自然清晰，易于理解，相互交流尽可能少；
   - 各层功能的精确定义独立于具体的实现方法，可以采用最适合的技术实现；
   - 保持下层对上层的独立性，上层单向使用下层提供的服务；
   - 整个分层结构应该能够促进标准化工作；
3. 分层时，层次过多，有些功能在不同层中可能重复出现，产生额外开销；层次太少，每层的协议都会变得过于复杂；因此这种的层次是需要被考虑的。
4. 依据一定的规则，将分层后的网络从低层到高层依次称为第1层，第2层...第n层，**第n层的活动元素通常称为n层实体**，**实体**指任何可以发送或者接受信息的硬件或软件进程，通常是一个特定的软件模块。不同机器上的同一层被策称为**对等层**，同一层的实体被称为**对等实体**。
5. 每一层都有自己传送的数据单位，名称、大小、含义各有不同：
   - 在计算机网络体系结构各个层次中，每个**报文**分为两部分：一是**数据部分**，SDU；二是**控制信息部分**，PCI，共同组成PDU；
   - 服务数据单元（SDU）：为完成用户所要求的功能而应传送的数据；
   - 协议控制单元（PCI）：控制协议操作的信息；
   - 协议数据单元（PDU）：对等层次之间传送的数据单位称为该层的PDU；
   - 物理层PDU（比特），链路层PDU（帧），网络层PDU（分组），传输层PDU（报文）；
6. 层次结构含义：
   - 第n层既要使用第n-1层的服务来实现自身定义的功能，还要向第n+1层提供本层的服务，该服务是第n层及其下面各层提供的服务总和；
   - **最底层只提供服务，是整个层次结构的基础**；
   - 上一层只能通过相邻层接口使用下一层服务，不能调用其他层服务；下一层所提供服务的实现细节对上一层**透明**；
   - **两台主机通信时，对等层在逻辑上有一条直接信道，表现为不经过下层就把信息传送到对方**；

### 二、计算机网络协议、接口、服务的具体概念

#### 	1.协议（规则的集合）

1. 为了在网络中有条不紊的交换数据。必须遵循事先约定好的规则（为什么制定协议）
2. 网络协议是控制两个（或者多个）对等实体进行通信的规则的集合，是**水平的**。
3. 不对等实体之间是没有协议的！！！
4. **协议由语法、语义和同步三部分组成。**
   - 语法：规定传输数据的格式；
   - 语义：规定要完成的功能，如需要发出何种控制信息、完成何种动作及做出何种应答；
   - 同步：事件实现顺序的详细说明；

#### 	2.接口（同一结点内相邻两层间交换信息的连接点）

1. 每层只能为紧邻的层次之间定义接口，不能跨层定义接口。
2. 同一结点相邻两层的实体通过**服务访问点**（Service Access Point）进行交互。
3. SAP是抽象概念，是**逻辑接口**，和两个设备之间的硬件接口不太一样。

#### 	3.服务（下层为紧邻的上层提供的功能调用，是垂直的）

1. 上层使用下层所提供的服务时必须与下层交换一些命令（在**OSI**中称为**服务原语**），被划分为4类：
   - 指示（Indication）：服务提供者->服务用户，指示用户做某件事；
   - 响应（Response）：服务用户->服务提供者，作为对指示的响应；
   - 请求（Request）：服务用户->服务提供者，请求完成某项工作；
   - 证实（Comfirmation）：服务提供者->服务用户，作为对请求的证实；
2. **并不是在一层内完成的全部功能都是服务，只有那些能够被高一层的实体“看得见”的功能才称为服务；**
3. 计算机网络服务的分类：
   1. 面向连接服务与无连接服务
      - 面向连接服务（TCP）：连接建立、数据传输、连接释放；
      - 无连接服务（IP、UDP）：尽最大努力交付；
   2. 可靠服务与不可靠服务
      - 可靠服务：具有纠错、检错、应答机制，保证数据正确、可靠的从达；
      - 不可靠服务：不能保证数据正确、可靠的从达；
   3. 有应答服务与无应答服务
      - 有应答服务（文件传输服务）：接收方收到数据后向发送方给出相应应答，**传输系统内部自动实现，不是用户实现**；
      - 无应答服务（WWW服务）：不自动应答，如果要应答，由高层给出；

### 三、ISO/OSI参考模型（ISO是国际标准化组织，OSI叫做开放系统互连参考模型）

1. 物理层、数据链路层、网络层（通信子网），为了联网而附加的通信设备，完成**数据的传输功能**
2. 传输层，作为承上启下
3. 会话层、表示层、应用层（资源子网），相当于计算机系统，完成**数据的处理功能**
4. 物理层（定义数据终端设备和数据通信设备的物理与逻辑连接方法，物理层协议又称为物理层接口协议或物理层规程）：
   - 传输单位：比特
   - 任务：透明的传输比特流
   - 功能：在物理媒体上为数据端设备透明地传输原始比特流
   - **传输信息所使用的物理媒体，如双绞线、光缆、无线通道等，不在物理协议之内**
5. 数据链路层（点对点的通信，主机到主机的通信，点指的是一个硬件地址或IP地址）：
   - 传输单位：帧
   - 任务：将网络层传来的**IP数据报**组装成帧
   - 功能：成帧、差错控制（检测错误）、流量控制（协调速率）、传输管理
6. 网络层（通信子网的运行控制）：
   - 传输单位：数据报
   - 任务：把网络层的协议数据单元（分组）从源端传到目的端，为分组交换网上的不同主机提供通信服务
   - 功能：对分组进行路由选择、流量控制、差错控制、拥塞控制和网际互联
7. 传输层（端到端的通信，不同主机内的两个进程之间的通信，一个进程由一个端口来标识）
   - 传输单位：报文段（TCP）或者用户数据报（UDP）
   - 任务：主机中两个进程之间的通信
   - 功能：为端到端连接提供可靠的传输服务、流量控制、差错控制、服务质量、数据传输管理、复用、分用
8. 会话层
   - 利用：传输层提供的端到端服务
   - 增值服务：为表示层实体或用户进程建立连接并在连接的基础上有序的传输数据
   - 会话也称为建立同步（SYN）
9. 表示层（主要处理在两个通信系统中交换信息的表示方式）
   - 增值服务：为了使抽象的标准方法定义数据结构，并采用标准的编码方式。数据压缩、加密、解密等数据表示变换功能
10. 应用层（最复杂的一层，因为用户实际应用很多，要求应用层采取不同的应用协议来解决不同类型的要求）
    - 增值服务：为特定类型的网络应用提供访问OSI环境的手段

### 四、TCP/IP模型（ARPA研究ARPAnet：最早的计算机网络时提出来TCP/IP模型）

1. 网络接口层（类似于OSI的物理层与数据链路层）
   - 与物理网络的接口，但TCP/IP本身并没有真正描述这一部分，只是指出主机必须使用某种协议与网络连接，以便在其上传递IP分组。
2. 网际层（类似于OSI的网络层，TCP/IP体系的**关键部分**）
   - 将分组发往任何网络，并为之独立的选择合适的路由，但它不保证各个分组有序的到达，各个分组的有序交付由高层负责。**定义了标准的分组格式和协议，也就是IP**。
3. 传输层（类似于OSI的传输层）
   - 传输控制协议（TCP）：面向连接的，传输单位是报文段，提供可靠的交付
   - 用户数据报协议（UDP）：无连接的，传输单位是用户数据报，不提供可靠的交付，只是尽最大努力交付
4. 应用层（包含所有高层协议）

### 五、两种参考模型的比较

1. 相似之处
   - 都采取分层的体系结构
   - 基于独立的协议栈
   - 解决异构网络的互联，实现世界上不同厂家生产的计算机之间的通信
2. 不同之处
   - 看书，书上讲解的极其优秀啊哈哈哈或

