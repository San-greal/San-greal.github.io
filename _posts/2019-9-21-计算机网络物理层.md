---
layout:     post
title:      计算机网络物理层
subtitle:   
date:       2019-9-18
author:     度朝腾
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 计算机网络
---

### 一、基本概念

#### 1.数据、信号、码元

1. **数据**指传送信息的实体。
2. **信号**指数据的电气或电磁表现，是数据在传输过程中的存在形式。
3. 数据和信号都可以用**模拟的**或者**数字的**来修饰
   - **连续变化**称之为模拟
   - **离散**取值称之为数字
   - 声音是模拟信号，因为声音是连续的嘛
4. 数据传输方式（同步、异步是**通信方式**，不是传输方式）：
   - 串行传输：一个一个的比特按照时间顺序传输，距离长，速度慢
   - 并行传输：多个比特通过多条通信信道同时传输，距离短，速度快
5. **码元**指用一个**固定时长**的信号波形（数字脉冲）来表示以为k进制数字
   - 码元代表不同离散值的**基本波形**，是数字通信中的计量单位，这个时长内的信号称为k进制码元，该时长称为码元宽度
   - 1个码元可以携带多个比特的信息量

#### 2.信源、信道、信宿

1. 信源是产生和发送数据的源头
2. 信宿是接受数据的终点
3. **信道**
   - 与电路不等同
   - 是信号的传输媒介
   - 一般用来表示某个方向传送信息的介质
4. 双方通信的交互方式
   - 单工通信：无线电广播、电视广播
   - 半双工通信：都可以接受与发送信息，但不能同时进行，需要两条信道
   - 双工通信：都可以同时接受与发送信息，需要两条信道

#### 3.速率、波特、带宽

1. 速率（数据率，单位时间内传输的数据量）
   - 码元传输速率：单位时间内数字通信系统所传输的码元个数，单位是**波特**，1波特表示数字通信系统每秒传输一个码元，码元可以使多进制的，也可以是二进制，单码元速率与进制无关
   - 信息传输速率：单位时间内数字通信系统传输的二进制码元个数，单位是比特/秒
2. 带宽
   - 单位时间内从网络中的某一点到另一点所能通过的最高数据率，单位是比特/秒
   - 原指信号具有的频带宽度，单位是赫兹

### 二、奈奎斯特定理（与速率、波特、带宽很有关系）

1. 奈氏准则：理想低通（**没有噪声，带宽有限**）的信道下的极限数据传输速率 = 2Wlog2V，极限码元传输速率是2W
2. 在任何信道中，码元传输速率是有上限的，如果传输速率超过这个上限，会出现严重的码间串扰问题，使得接收端可能无法正确识别码元
3. 信道带宽越宽，可以用更高的速率
4. 奈氏准则只对码元传输速率做出限制，但是数据（信息）传输速率并没有进行限制，**如果想提高数据的传输速率，要设法使每个码元可以携带更多比特的信息量**

   - 假如提到离散值，就当做二进制嘛，如果离散值是4，那么比特数自然是2

### 三、香农定理（这两个定理很有可能在同一道题目中出现，然后取最小这种陷阱）

1. 香农定理：**带宽受限且有白噪声干扰**的信道的极限数据传输率，当用此速率传输时，可以做到不产生误差
2. 信道的极限数据传输速率 = Wlog2(1 + S/N)，S/N是信噪比

   - 注意单位是db的情况，数值上等于10log10（S/N）db
3. 信道的带宽或者信噪比越大，信息的极限传输速率越高
4. 对一定的传输带宽和一定的信噪比，信息的传输速率的上限是确定的
5. 只要信息的传输速率低于信道的极限传输速率，就能找到某种方法实现无误差传输
6. 香农定理得到的是极限传输速率，实际信道能达到的传输速率要比其低不少

### 四、编码与调制

1. 数据->模拟信号 = 调制
2. 数据->数字信号 = 编码
3. 数字数据->数字信号（基带传输，基本不改变数字数据信号的频率）
   1. 非归零编码（无检错功能，无法判断一个码元的开始和结束）
   2. 曼彻斯特编码（将一个码元分成两个相等的间隔，前高后低表示1，前低后高表示0）
      - 以太网采用曼彻斯特编码，每位数据（一个数据，对应信息传输速率）都需要两个电平（两个脉冲信号，对应码元传输速率），所以波特率是数据率的两倍
   3. 差分曼彻斯特编码（前半个码元与上一个码元后半个相同为1，不同为0）
   4. 4B/5B编码（有点迷乱）
4. 数字数据->模拟信号（调制解调器的调制过程）
   1. 幅移键控（改变振幅）ASK
   2. 频移键控（改变频率）FSK
   3. 相移键控（改变相位）PSK
      - 改变相位，也可以使用奈奎斯特的，相位相当于码元的变化量，也就是离散值
   4. 正交振幅调制（幅移与频移结合起来，不是很懂）QAM
      - 在频率相同的情况下，将ASK与PSK结合起来，形成叠加信号，数据传输率公式是：R=2Wlog2(mn)
      - 注意有时候公式可能表示成Blog2(mn)，B代表波特率等于2W
5. 模拟数据->数字信号（调制解调器的解调过程）
   1. 采样定理（奈奎斯特定理）
   2. 量化（把连续的电平幅度转换为离散的数字量）
   3. 编码（把量化的结果转化为与之对应的二进制编码）
6. 模拟数据->模拟信号（频分复用）
7. **这个地方还会考察基带传输、频带传输与宽带传输**：

   - 基带传输：在计算机内部或在相邻设备之间近距离传输时，可以**不经过调制**就在信道上直接进行的传输方式
   - 频带传输：用数字信号对特定频率的载波进行**调制**，将其变成适合于传送的信号后在进行传输的方式
   - 宽带传输：借助频带传输，将链路容量分解为两个或多个信道，每个信道可以携带不同信号的传输方式

### 五、电路交换，报文交换，分组交换（极度重要）

#### 1.电路交换：连接建立，数据传输，连接释放（物理通信路径可能有多个中间结点，数据传输期间路径一直独占）

1. 优点
   - 通信时延小（专用通信线路嘛）
   - 有序传输（不会出现失序问题）
   - 没有冲突（不会争抢信道）
   - 适用范围广（数字信号，模拟信号都能用）
   - 实时性强（一旦建立通路，随时通信）
   - 控制简单（都很简单）
2. 缺点
   - 建立连接时间长（平均建立时间太长）
   - 线路独占（即使通信线路空闲，也不能被别人用）
   - 灵活性差（只要通路出了故障，必须重新建立连接）
   - 难以规格化（不同终端很难互相通信，没有差错控制）

#### 2.报文交换：存储转发方式传输

1. 优点
   - 不用建立连接
   - 动态分配线路（当发送方把报文交给交换设备时，交换设备先存储整个报文，然后选择合适的空闲线路转发出去）
   - 提高线路可靠性（如果哪条线路坏了，那就换一条没坏的）
   - 提高线路利用率
   - 提供多目标服务（一个报文可以同时发送给多个目的地址）
2. 缺点
   - 由于数据会经历存储转发这个过程，所以会引起转发时延
   - 报文交换对报文大小没有限制，网络结点的缓存空间需要较大

#### 3.分组交换：存储转发方式传输，解决报文交换中的大报文问题

1. 优点
   - 无建立时延
   - 线路利用率高
   - 简化了存储管理
   - 加速传输（分组是逐个传输的，可以使后一个分组的存储操作和前一个分组的转发操作并行，这种流水线方式减少报文传输时间，缓冲区不足的问题减少）
   - 减少出错概率和重发数据率
2. 缺点
   - 存在传输时延
   - 需要传输额外的信息量（小数据块都要加上源地址等信息）
   - 采用**数据报**时可能出现失序、丢失、重复分组，还有到达后的排序工作
   - 采用**虚电路**时，由呼叫建立、数据传输、虚电路释放等过程

### 六、无连接的数据报与面向连接的虚电路（不过是分组交换的两种方式）

#### 1.无连接的数据报

1. 主机A先将分组逐个发往与它直接连接的结点A，交换结点A缓存收到的分组（只会存储很短的时间）
2. 查找自己的转发表。**由于不同时刻的网络状态不同**，转发表的内容可能不完全相同
3. 其他结点收到分组后，进行类似操作

- 不需要建立连接，随时发送，随时接收
- **尽最大努力交付，传输不保证可靠性**（老子尽力了，但结果老子不管）
- 分组中要包括发送端与接收端的完整地址
- 需要排队等候处理
- 对故障适应能力强
- 提高网络吞吐量
- 资源利用率高

#### 2.面向连接的虚电路（数据报与电路交换相结合）

1. 虚电路建立（呼叫请求，呼叫应答）
2. 数据传输
3. 虚电路释放（释放请求，释放应答）

- 对于长时间，频繁的数据交换效率极高
- 可靠的通信服务，流量控制
- **对故障适应新差**
- **分组首部不包含目的地址，只包含虚电路标识符，开销小**
- 之所以是**虚**电路，虚电路的实际路由可能相同也可能不同，结点之间的链路可以**同时有若干虚电路通过**

### 七、传输介质：发送设备和接受设备之间的物理通路

1. 导向介质与非导向介质
   - 导向介质：电磁波被导向沿着固体媒介传播
   - 非导向介质：可以是空气，真空，海水
2. 双绞线
   - 屏蔽双绞线
   - 非屏蔽双绞线
3. 同轴电缆
   - 50欧姆同轴电缆：基带同轴电缆
   - 75欧姆同轴电缆：宽带同轴电缆
4. 光纤

   - 多模光纤
   - 单模光纤
5. 无线传输介质
   - 无线电波
   - 微波、红外线和激光

### 八、物理层接口的特性

1. 物理层的主要任务：确定与传输媒体的接口有关的一些特性
   - 机械特性：定义物理连接的边界点，规定物理连接时所采用的规格、引线的数目、引脚的数量和排列情况
   - 电气特性：规定传输二进制位时，线路上信号的电压高低、阻抗匹配、传输速率和距离限制
   - 功能特性：指明某条线上出现的某一电平的电压表示何种意义，接口部件的信号线的用途
   - 规程特性：主要定义各条物理线路的工作规程和时序关系

### 九、物理层设备

1. 中继器：又称为转发器
   - 将信号整形并放大再转发出去
   - 原理是信号再生而不是简单的放大信号
   - 因为网络标准对信号延迟范围做了标准，所以现实中不能无限使用中继器
   - 放大器放大的是模拟信号，中继器放大的是数字信号
   - 中继器没有存储转发功能，不能连接两个速率不同的网段
2. 集线器（就是平常用的那个HUB）
   - 本质上是多端口中继器，也就是说还是中继器
   - 如果同时有两个或多个端口输入，那么输出时会发生冲突
   - 目的是扩大网络的传输范围，不具备信号的定向传送能力，信号传输的方向是固定的，是共享式设备
   - 我们现实所用的集线器感觉像是可以并行的，但其实集线器每一个时钟周期只能传输一组信息，但因为时钟周期人可能感觉不太清楚，所以感觉像是并行的





